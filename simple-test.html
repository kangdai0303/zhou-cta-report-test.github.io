<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>简单测试</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        input { padding: 10px; margin: 10px; font-size: 16px; }
        button { padding: 10px 20px; font-size: 16px; cursor: pointer; }
        .result { margin-top: 20px; padding: 15px; background: #f0f0f0; }
    </style>
</head>
<body>
    <div class="container">
        <h1>JavaScript测试页面</h1>
        <input type="text" id="score-input" placeholder="输入分数 (如89.5)" maxlength="4">
        <button onclick="testGenerate()">生成报告</button>
        <div id="result" class="result" style="display:none;"></div>
    </div>

    <script>
        // 全局变量存储分数
        var scores = {
            advanced: 0,
            comprehensive: 0,
            basic: 0
        };

        function testGenerate() {
            console.log('开始测试生成功能');
            
            var input = document.getElementById('score-input').value.trim();
            var resultDiv = document.getElementById('result');
            
            if (!input) {
                alert('请输入分数');
                return;
            }
            
            if (input.length !== 4) {
                alert('请输入99.9格式的分数');
                return;
            }
            
            if (input[2] !== '.') {
                alert('分数格式错误，应为99.9');
                return;
            }
            
            var score = parseFloat(input);
            if (isNaN(score) || score < 0 || score > 99.9) {
                alert('分数应在0.0-99.9之间');
                return;
            }
            
            // 解析分数
            var scoreStr = score.toFixed(1);
            scores.advanced = parseInt(scoreStr[0]) || 0;
            scores.comprehensive = parseInt(scoreStr[1]) || 0;
            scores.basic = parseInt(scoreStr[3]) || 0;
            
            // 显示结果
            resultDiv.innerHTML = '<h3>测试结果</h3>' +
                '<p>输入分数: ' + score + '</p>' +
                '<p>高阶应用层: ' + scores.advanced + '分</p>' +
                '<p>综合理解层: ' + scores.comprehensive + '分</p>' +
                '<p>基础认知层: ' + scores.basic + '分</p>' +
                '<p style="color: green;">JavaScript功能正常！</p>';
            
            resultDiv.style.display = 'block';
            
            console.log('测试完成', scores);
        }
        
        // 页面加载测试
        document.addEventListener('DOMContentLoaded', function() {
            console.log('页面加载完成，JavaScript正常工作');
        });
        
        console.log('脚本加载完成');
    </script>
</body>
</html>